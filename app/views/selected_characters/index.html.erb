<p style="color: green"><%= notice %></p>

<h1>Selected Characters</h1>

<div id="characters" class="container text-center">

<table class="table table-striped table-hover">
  <thead class="sticky-top">
    <tr class="table-primary">
      <th scope="col">ID</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Gender</th>
      <th scope="col">Species</th>
      <th scope="col">Company</th>
    </tr>
  </thead>

  <tbody class="scrollable-table">
    <% @selected_characters.each do |character| %>
      <tr id="<%= dom_id(character) %>">
        <th scope="row"><%= link_to character.id, edit_character_path(character) %></th>
        <td><%= character.first_name %></td>
        <td><%= character.last_name %></td>
        <td><%= character.gender %></td>
        <td><%= character.species.species_name %></td>
        <td class="text-start">
          <% character.character_jobs.each do |character_job| %>
            <div class="job-container mb-2">
              <div class="company-row">
                <div class="h6"><b><%= character_job.job.company.company_name %></b></div>
              </div>
              <div class="job-details-row">
                <span style="font-weight: 600;">- <%= character_job.job.role %></span>
                <span>
                  <em>
                    (from: <%= character_job.start_date.strftime("%e %b '%y") %>
                    to: <%= character_job.end_date&.strftime("%e %b '%y") || 'present' %>)
                  </em>
                </span>
              </div>
            </div>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

</div>
